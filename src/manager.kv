#:import FadeTransition kivy.uix.screenmanager.FadeTransition
#:import Factory kivy.factory.Factory

Man:
    transition: FadeTransition()
    MenuScreen:
    GameScreen:

<GameButton@ToggleButton>:
    group: 'game'
    on_press:
        self.background_color = (0,0,0,0)
    on_release:
        self.background_color = (1,1,1,1)
    background_color: (1,1,1,1)
    background_normal: ''

<Message>:
    title: 'Loss!'
    size_hint: .4,.5
    auto_dismiss: False

    BoxLayout:
        orientation: 'vertical'
        Label:
            text: 'You lost!'
        Button:
            size_hint: 1, .2
            text: 'Restart'
            on_press: app.root.get_screen('gamescreen').restart()
            on_release: root.dismiss()

<MenuScreen>:
    name: 'menuscreen'
    FloatLayout:
        canvas.before:
            Color:
                rgba: (1,253/255,208/255,1)
            Rectangle:
                pos: self.pos
                size: self.size
        Button:
            text: 'Start!'
            color: 172/255, 115/255, 0, 0.5
            on_release: app.root.current = 'gamescreen'
            background_color: (0,0,0,0)
            background_normal: ''
            size_hint: (0.5,0.3)
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
            canvas.before:
                Color:
                    rgba: (231/255, 187/255, 0, 0.3)
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [50]


<GameScreen>:
    name: 'gamescreen'
    GridLayout:
        #canvas:
            #Color:
                #rgba: (1,1,1,1)
            #Rectangle:
                #pos: self.pos
                #size: self.size
        cols: 3
        padding: 5
        spacing: 5
        GameButton:
            id: 0
            on_release: Factory.Message().open()
        GameButton:
            id: 1
        GameButton:
            id: 2
        GameButton:
            id: 3
        GameButton:
            id: 4
        GameButton:
            id:5
        GameButton:
            id: 6
        GameButton:
            id: 7
        GameButton:
            id: 8
